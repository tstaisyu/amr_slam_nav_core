ekf_localization_node:
  ros__parameters:
    use_sim_time: false
    frequency: 30.0
    two_d_mode: true
    publish_tf: true
    map_frame: map
    odom_frame: odom
    base_link_frame: base_link
    world_frame: odom
    sensor_timeout: 0.1
    transform_time_offset: 0.0
    transform_timeout: 0.0
    print_diagnostics: true

    # odom data
    odom0: /odom_encoder
    odom0_config: [true, true, false,
                   false, false, false,
                   false, false, false,
                   false, false, true,
                   false, false, false]
    odom0_differential: false
    odom0_relative: false
    odom0_queue_size: 10
    odom0_nodelay: false

    # IMU data
    imu0: /imu/data_filtered
    imu0_config: [false, false, false,
                   false, false, false,
                   false, false, false,
                   true, true, true,
                   true, true, true]
    imu0_differential: false
    imu0_relative: false
    imu0_queue_size: 10
    imu0_remove_gravitational_acceleration: true
    imu0_nodelay: false

#    odom0: /odom_cartographer
#    odom0_config: [false, false, false,  # XYZ速度
#                  false, false, false,  # XYZ角速度
#                  false, false, false, # 加速度は不使用
#                  false, false, false,
#                  false, false, false]

# 初期共分散行列
initial_estimate_covariance: [1e-1, 0, 0, 0, 0, 0,
                              0, 1e-1, 0, 0, 0, 0,
                              0, 0, 1e-1, 0, 0, 0,
                              0, 0, 0, 1e-1, 0, 0,
                              0, 0, 0, 0, 1e-1, 0,
                              0, 0, 0, 0, 0, 1e-1]

# プロセスノイズの共分散行列
process_noise_covariance: [ 1e-5, 0, 0, 0, 0, 0,
                            0, 1e-5, 0, 0, 0, 0,
                            0, 0, 1e-5, 0, 0, 0,
                            0, 0, 0, 1e-5, 0, 0,
                            0, 0, 0, 0, 1e-5, 0,
                            0, 0, 0, 0, 0, 1e-5]